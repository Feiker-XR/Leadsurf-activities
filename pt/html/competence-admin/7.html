<!DOCTYPE HTML>
<html lang="en-US" class="html-content">
<head>
	<meta charset="UTF-8">
	<title>7.用户管理</title>
	<link rel="stylesheet" href="../images/common/base.css" />
	<link rel="stylesheet" href="../images/admin/admin.css" />
	<script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="../js/jquery.tmpl.min.js"></script>
	<script type="text/javascript" src="../js/phoenix.base.js"></script>
	<script type="text/javascript" src="../js/phoenix.Class.js"></script>
	<script type="text/javascript" src="../js/phoenix.Event.js"></script>
	<script type="text/javascript" src="../js/phoenix.util.js"></script>
	<script type="text/javascript" src="../js/phoenix.Mask.js"></script>
	<script type="text/javascript" src="../js/phoenix.Input.js"></script>
	<script type="text/javascript" src="../js/phoenix.DatePicker.js"></script>
	<script type="text/javascript" src="../js/phoenix.SuperSearchGroup.js"></script>
	<script type="text/javascript" src="../js/phoenix.SuperSearch.js"></script>
	<script type="text/javascript" src="../js/phoenix.Tab.js"></script>
	<script type="text/javascript" src="../js/phoenix.MiniWindow.js"></script>
	<script type="text/javascript" src="../js/phoenix.Message.js"></script>
	<style>
		.pop .btn.confirm{
			background: url("../images/common/ui-btn.png") repeat scroll 0 -240px transparent;
			border: 0 none;
			border-radius: 0 0 0 0;
			color: #FFFFFF;
			height: 34px;
			line-height: 34px
		}
		.pop .btn.confirm .btn-inner{
			background: url("../images/common/ui-btn.png") repeat scroll right -240px transparent;
			height: 34px;
			width: 15px;
		}
		.color-yellow {color:#CC3300}
	</style>
</head>
<body>
	<div class="menu">
		<div class="menu-logo"></div>
		<ul class="menu-list">
			<li><a href="">首页</a></li>
			<li><a href="">全局</a></li>
			<li><a href="">用户</a></li>
			<li><a href="">游戏</a></li>
			<li><a href="">资金</a></li>
			<li><a href="">市场促销</a></li>
			<li><a href="">统计</a></li>
			<li><a href="">内容</a></li>
			<li class="current"><a href="">权限</a></li>
		</ul>
		<div class="menu-quit"><a href="">退出</a><i class="ico-user"></i>你好，vava</div>
	</div>
	<div class="col-content">
		<div class="col-side">
			<dl class="nav">
				<dt>权限中心</dt>
				<dd><a href="8.html">权限组管理</a></dd>
				<dd><a href="9.html">创建权限组</a></dd>
				<dd class="current"><a href="7.html">用户管理</a></dd>
				<dd><a href="11.html">添加用户</a></dd>
				<dd><a href="12.html">操作日志</a></dd>
				<dd><a href="10.html">修改密码</a></dd>
			</dl>
		</div>
		<div class="col-main">
			<div class="col-crumbs"><div class="crumbs"></div></div>
			<div class="col-content">
				<div class="col-main">
					<div class="main">
					
					
					<form id="J-form" action="?">
						<ul class="ui-search">
							<li class="name">
								<select class="ui-select">
									<option value="用户名">用户名</option>
									<option value="序号">Email</option>
									<option value="序号">电话</option>
								</select>
								<input type="text" value="" id="J-search-username" class="input">
							</li>
							<li>
								<label class="ui-label">权限组：</label>
								<select class="ui-select">
									<option value="所有组">所有组</option>
									<option value="CFO">CFO</option>
									<option value="一级代理">|--会计经理</option>
									<option value="二级代理">&nbsp;&nbsp;|--业务会计员</option>
								</select>
							</li>
							<li>
								<label class="ui-label">状态：</label>
								<select class="ui-select">
									<option value="所有状态">所有状态</option>
									<option value="正常">正常</option>
									<option value="锁定">锁定</option>
								</select>
							</li>
							<li><a href="javascript:void(0);" id="J-button-submit" class="btn btn-important">搜 索<b class="btn-inner"></b></a></li>
						</ul>
					</form>
						
						
						
						
						<table class="table table-info">
							<thead>
								<tr>
									<th>用户名</th>
									<th>电话</th>
									<th>Email</th>
									<th>所属权限组</th>
									<th>状态</th>
									<th>操作</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td class="username">ascdd</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td>正常</td>
									<td>
										<a class="report" href="12.1.html">操作日志</a>
										<a class="edit" href="8.3.html">修改</a>
										<a class="unlock" href="javascript:void(0);">解锁</a>
										<a class="delete" href="javascript:void(0);">删除</a>
									</td>
								</tr>
								<tr>
									<td class="username">ascdd</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td class="color-red">锁定</td>
									<td>
										<a class="report" href="12.1.html">操作日志</a>
										<a class="edit" href="8.3.html">修改</a>
										<a class="lock"href="javascript:void(0);">锁定</a>
										<a class="delete" href="javascript:void(0);">删除</a>
									</td>
								</tr>
								<tr>
									<td class="username">ascdd</td>
									<td>1</td>
									<td>1</td>
									<td>1</td>
									<td class="color-yellow">锁定</td>
									<td>
										<a class="report" href="12.1.html">操作日志</a>
										<a class="edit" href="8.3.html">修改</a>
										<a class="lock"href="javascript:void(0);">锁定</a>
										<a class="delete" href="javascript:void(0);">删除</a>
									</td>
								</tr>
							</tbody>
						</table>
						<div class="page-wrapper clearfix">
							<span class="page-text">共23个用户</span>
							<div class="page page-right">
								<a href="#" class="prev">上一页</a>
								<span>2/200</span>
								<a href="#" class="next">下一页</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<script>
		(function(win, host){
			var message = host.Message.getInstance(),
				lockDom = '.lock',
				unlockDom = '.unlock',
				deleteDom = '.delete';

				$('body').on('click', lockDom, function(){
					var data = $(this).parents('tr').eq(0).find('.username').text();
					message.show({
						title:'锁定提示',
						content : ['<div class="bd text-center">',
										'<div class="pop-title">',
											'<i class="ico-waring"></i>',
											'<h4 class="pop-text">你确定要锁定管理员'+data+'吗？锁定成功后该账号将不能登录管理后台.</h4>',
										'</div>',
									'</div>'].join(''),
						mask: true,
						closeIsShow: true,
						closeFun: function(){
							this.hide();
						},
						confirmIsShow: true,
						confirmFun: function(){
							$.ajax({
								url: '#',
								dataType: 'json',
								type: 'GET',
								data : data,
								success:function(data){
									if(Number(data['isSuccess']) == 1){
										win.location.reload();
									}else{
										
									}
								},
								complete: function(){

								}
							});
						}
					})
				})
				$('body').on('click', unlockDom, function(){
					var data = $(this).parents('tr').eq(0).find('.username').text();
					message.show({
						content : ['<div class="bd text-center">',
										'<div class="pop-title">',
											'<i class="ico-waring"></i>',
											'<h4 class="pop-text" style="width:250px;">你确定要解锁管理员'+data+'吗？解锁成功后该账号将恢复正常使用。</h4>',
										'</div>',
									'</div>'].join(''),
						mask: true,
						closeIsShow: true,
						closeFun: function(){
							this.hide();
						},
						confirmIsShow: true,
						confirmFun: function(){
							$.ajax({
								url: '#',
								dataType: 'json',
								type: 'GET',
								data : data,
								success:function(data){
									if(Number(data['isSuccess']) == 1){
										win.location.reload();
									}else{
										
									}
								},
								complete: function(){

								}
							});
						}
					})
				})
				$('body').on('click', deleteDom, function(){
					var data = $(this).parents('tr').eq(0).find('.username').text();
					message.show({
						content : ['<div class="bd text-center">',
										'<div class="pop-title">',
											'<i class="ico-waring"></i>',
											'<h4 class="pop-text">你确定要删除管理员'+data+'吗？删除后将不能恢复。</h4>',
										'</div>',
									'</div>'].join(''),
						//不能删除情况的HTML结构
						// content : ['<div class="bd text-center">',
						// 				'<div class="pop-title">',
						// 					'<i class="ico-waring"></i>',
						// 					'<h4 class="pop-text">你不能删除当前账号，请先确认OA系统当前账号是否已被删除。</h4>',
						// 				'</div>',
						// 			'</div>'].join(''),
						mask: true,
						closeIsShow: true,
						closeFun: function(){
							this.hide();
						},
						confirmIsShow: true,
						confirmFun: function(){
							$.ajax({
								url: '#',
								dataType: 'json',
								type: 'GET',
								data : data,
								success:function(data){
									if(Number(data['isSuccess']) == 1){
										win.location.reload();
									}else{
										this.closeFun();
									}
								},
								complete: function(){

								},
								error: function()
								{
									message.hide();
								}
							});
						}
					})
				})

		})(window, phoenix);
		
		
		
		//new phoenix.Input({el:'#J-search-username',defText:'请输入您的用户名'});
		
		
		$('#J-button-submit').click(function(){
			$('#J-form').submit();
		});
		
		
		
	</script>
</body>
</html>