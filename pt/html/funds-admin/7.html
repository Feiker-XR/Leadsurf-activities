<!DOCTYPE HTML>
<html lang="en-US" class="html-content">
<head>
	<meta charset="UTF-8">
	<title>帐户明细</title>
	<link rel="stylesheet" href="../images/common/base.css" />
	<link rel="stylesheet" href="../images/admin/admin.css" />
	<link rel="stylesheet" href="../images/admin/pagination.css">
	<link rel="stylesheet" href="../images/common/js-ui.css" />
	<script type="text/javascript">global_path_url="..";</script>
    <script type="text/javascript" src="../js/jquery-1.9.1.min.js"></script>
	<script type="text/javascript" src="../js/phoenix.base.js"></script>
	<script type="text/javascript" src="../js/phoenix.Class.js"></script>
	<script type="text/javascript" src="../js/phoenix.Event.js"></script>
	<script type="text/javascript" src="../js/phoenix.util.js"></script>
	<script type="text/javascript" src="../js/phoenix.Tab.js"></script>
	<script type="text/javascript" src="../js/phoenix.Tip.js"></script>
	<script type="text/javascript" src="../js/phoenix.Mask.js"></script>
	<script type="text/javascript" src="../js/phoenix.MiniWindow.js"></script>
	<script type="text/javascript" src="../js/phoenix.Message.js"></script>
	<script type="text/javascript" src="../js/phoenix.DatePicker.js"></script>
    <script type="text/javascript" src="../js/phoenix.SuperSearchGroup.js"></script>
    <script type="text/javascript" src="../js/phoenix.SuperSearch.js" ></script>
    <script type="text/javascript" src="../js/phoenix.pagination.js" ></script>
    <script type="text/javascript" src="../js/phoenix.Common.js" ></script>
</head>
<body>
	<div class="menu">
		<div class="menu-logo"></div>
		<ul class="menu-list">
			<li><a href="">首页</a></li>
			<li><a href="">全局</a></li>
			<li><a href="">用户</a></li>
			<li><a href="">游戏</a></li>
			<li><a href="">资金</a></li>
			<li><a href="">市场促销</a></li>
			<li><a href="">统计</a></li>
			<li><a href="">内容</a></li>
			<li><a href="">权限</a></li>
		</ul>
		<div class="menu-quit"><a href="">退出</a><i class="ico-user"></i>你好，vava</div>
	</div>
	<div class="col-content">
		<div class="col-side">
			<dl class="nav">
				<dt>充值相关</dt>
				<dd><a href="">异常充值处理</a></dd>
				<dd><a href="">充值相关配置</a></dd>
				<dt>提现相关</dt>
				<dd><a href="">风险提现处理</a></dd>
				<dd><a href="#">提现相关处理</a></dd>
				<dt>人工资金操作</dt>
				<dd><a href="#">人工资金操作审核流程</a></dd>
				<dt>银行卡相关</dt>
				<dd><a href="#">银行管理</a></dd>
				<dd><a href="#">用户银行卡绑定管理</a></dd>
				<dd><a href="#">银行卡黑名单管理</a></dd>
				<dt>统计报表</dt>
				<dd class="current"><a href="#">帐户明细</a></dd>
				<dd><a href="#">充值明细报表</a></dd>
				<dd><a href="#">提现明细报表</a></dd>
				<dd><a href="#">充提报表</a></dd>
				<dd><a href="#">总代每日报表</a></dd>
				<dd><a href="#">自动收款明细报表</a></dd>
				<dt>转账相关</dt>
				<dd><a href="#">转账明细</a></dd>
				<dd><a href="#">转账限额配置</a></dd>
			</dl>
		</div>
		<div class="col-main">
			<div class="col-crumbs"><div class="crumbs"><strong>当前位置：</strong><a href="#">一级菜单</a> &gt; <a href="#">二级级菜单</a> &gt; 三级菜单名</div></div>
			<div class="col-content">
				<div class="col-main">
					<div class="main">
						<h3 class="ui-title">转账限额配置</h3>
						<table id="J-table-data" class="table table-info table-function">
							<thead>
								<tr>
									<th id="">
										<div class="sp-td-cont">
											<div class="sp-td-title">交易流水号</div>
										</div>
									</th>
									<th id="J-sp-username" class="sp-td">
										<div class="sp-td-cont sp-td-cont-b">
                                            <div class="sp-td-title">用户名</div>
                                            <ul class="sp-filter-cont sp-filter-cont-b">                                                         
                                                <li>
                                                    <div class="input-append">
                                                        <input type="text" class="input w-2" size="10" maxlength="20"><a href="javascript:void(0);" class="btn sp-filter-submit"></a>
                                                    </div>
                                                </li>
                                            </ul>
                                            <span class="sp-filter-close"></span>
                                        </div>
									</th>
									<th id="J-sp-Daozhang5-time" class="sp-td">
                                        <div class="sp-td-cont sp-td-cont-b">
                                            <div class="sp-td-title">银行到账时间</div>
                                            <ul class="sp-filter-cont sp-filter-cont-b" style="width:270px;">                                                           
                                          <li>
                                                    <div class="input-append">
                                                        <input type="text" tabindex="1" class="input w-2" id="sp-input-Daozhang5-time-1"> - <input type="text" id="sp-input-Daozhang5-time-2" class="input w-2" size="10"><a href="javascript:void(0);" class="btn sp-filter-submit"><b class="btn-inner"></b></a>
                                                    </div>
                                              </li>
                                            </ul>
                                            <span class="sp-filter-close"></span>
                                        </div>
                                    </th>
									<th id="J-sp-summary" class="sp-td">
                                        <div class="sp-td-cont sp-td-cont-b">
                                                <div class="sp-td-title">摘要</div>
                                                <div class="sp-filter-cont sp-filter-cont-b sp-filter-cont-select" style="">
                                                   <ul>
                                                        <li data-select-id="0"><a href="#">充值</a></li>
                                                        <li data-select-id="1"><a href="#">提现</a></li>                                                            
                                                        <li data-select-id="2"><a href="#">转账</a></li>
                                                        <li data-select-id="3"><a href="#">冻结</a></li>
                                                  </ul>
                                                </div>
                                                <span class="sp-filter-close"></span>
                                        </div>
                                    </th>
									<th id="J-sp-status" class="sp-td">
										 <div class="sp-td-cont sp-td-cont-b">
                                                <div class="sp-td-title">状态</div>
                                                <div class="sp-filter-cont sp-filter-cont-b sp-filter-cont-select" style="">
                                                   <ul>
                                                        <li data-select-id="0"><a href="#">成功</a></li>
                                                        <li data-select-id="1"><a href="#">失败</a></li>                                                            
                                                        <li data-select-id="1"><a href="#">处理中</a></li>
                                                  </ul>
                                                </div>
                                                <span class="sp-filter-close"></span>
                                        </div>
									</th>
									<th>
										<div class="sp-td-cont">
											<div class="sp-td-title">收入金额</div>
										</div>
									</th>
									<th>
										<div class="sp-td-cont">
											<div class="sp-td-title">冻结金额</div>
										</div>
									</th>
									<th>
										<div class="sp-td-cont">
											<div class="sp-td-title">支出金额</div>
										</div>
									</th>
									<th>
										<div class="sp-td-cont">
											<div class="sp-td-title">可用余额</div>
										</div>
									</th>
									<th>
										备注
									</th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
								<tr>
									<td>2013-06-01</td>
									<td>abo123</td>
									<td>2011.12.09 19:28:23</td>
									<td>充值</td>
									<td>成功</td>
									<td>500</td>
									<td></td>
									<td></td>
									<td>1,000.00</td>
									<td>0.00</td>
								</tr>
							</tbody>
						</table>
						
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	(function($){
		var inputTimeStart = $('#sp-input-Daozhang5-time-1'),
			inputTimeEnd = $('#sp-input-Daozhang5-time-2');

		inputTimeStart.click(function(){
			var Dt = new phoenix.DatePicker({input:this});
				Dt.show();
		});	
		inputTimeEnd.click(function(){
			var Dt = new phoenix.DatePicker({input:this});
				Dt.show();
		});

	    var isShowCell=false,group = new phoenix.SuperSearchGroup();
		//允许输入英文字母和数字
		var allowWordAndNumber = function(v){
			return v.replace(/[^A-Za-z0-9]/g, '');
		};
		//允许输入数字和小数
		var allowNumber = function(){
			var me = this,v = me.value,index;
			me.value = v = v.replace(/^\.$/g, '');			
			index = v.indexOf('.');
			if(index > 0){
				me.value = v = v.replace(/(.+\..*)(\.)/g, '$1');				
			}
			me.value = v = v.replace(/[^\d|^\.]/g, '');
			me.value = v = v.replace(/^00/g, '0');		
			if(v.split('.').length > 2){
				arguments.callee.call(me);
			}
		};	
		//获取两个input值
		var getTowInputValue = function(){
			var me = this,ipts = me.dom.find('input[type="text"]'),name = me.name,result = {};
			result[name+'1'] = ipts[0].value;
			result[name+'2'] = ipts[1].value;
			return result;
		};
		//获取select类型值
		var getSelectValue = function(){
			var me = this,li = me.dom.find('li.current'),v = '',result = {};
			if(li.size() > 0){
				v = li.eq(0).attr('data-select-id');
				result[me.name] = v;
			}else{
				//初始化给空
				result[me.name] = '';
			}
			return result;
		};
		
		AllData();

		function AllData(){
			
			//银行到账时间
			var Daozhang5time = new phoenix.SuperSearch({
				name: 'Daozhangtime',
				keyCode: 'ctrl+68',
				type: 'time',
				el: '#J-sp-Daozhang5-time',
				group: group,
				expands:{getFormValue:getTowInputValue}
			});


			//用户名
			var username = new phoenix.SuperSearch({
				name: 'username',
				keyCode: 'ctrl+83',
				el: '#J-sp-username',
				group: group
			});

			//状态
			var gametype = new phoenix.SuperSearch({
				name: 'status',
				keyCode: 'ctrl+83',
				type: 'select',
				isAutoWidth: true,
				el: '#J-sp-status',
				group: group,
				expands:{getFormValue:getSelectValue}
			});	

			//摘要
			var gametype = new phoenix.SuperSearch({
				name: 'summary',
				keyCode: 'ctrl+83',
				type: 'select',
				isAutoWidth: true,
				el: '#J-sp-summary',
				group: group,
				expands:{getFormValue:getSelectValue}
			});	
		}

		SelectByWhereInfo("0");	
		//提交数据
		group.removeEvent('dataChange');
		group.addEvent('dataChange', function(){
			SelectByWhereInfo("0");				
		});	
		
		function SelectByWhereInfo(pages) {
			//当前页数据行数
			 var  per_page_number = 10;		
			//放入group对象中(当前页)		
			var page  = new phoenix.SuperSearch({
				name: 'page',    		
				group: group,			
				expands:{getValue:function(){
					return pages;	
				}}
			});		
			//放入group对象中(当前页行数)	
			var perPageNum  = new phoenix.SuperSearch({
				name: 'perPageNum', 
				group: group,			
				expands:{getValue:function(){
					return per_page_number;	
				}}
			});
			
			 var dataArea = $('[name="DivRules"]'),formData = group.getFormData(),mask = phoenix.Mask.getInstance();			
			 $("#J-table-data>tbody").html("");	
			 $("#Pagination").hide();		
			 $.ajax({
				url:'#',				
				method:'post',
				data:formData,
				beforeSend:function(){		
				     isLock=false;		
					 TableStyle("showInfo",17,1,"查询中");
				},
				success:function(data){
					//返回data的json格式
					var json={
					"text": [
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						},
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						},
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						},
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						},
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						},
						{
							"serialnumber": "4234234234",
							"username": "dfdsf",
							"tradingtime":"2013-09-02 00:00:00",
							"gameSummary": "充值",
							"gameStatus": '成功',
							"amount": "1,000.00",
							"freezeAmount": "500.00",
							"expensesAmount": "320.00",
							"availableAmount": "11.00",
							"remark": "管理员添加",
						}
					],
					"count": [
						{
							"recordNum": 2
						}
					]
				};
				data=json;
					if(data.text.length>0){
						$("#Pagination").show();
						$('.ui-tab-content').css('overflow-x', 'auto');	
						var re = data.text;						
						var recordNum = 0;
						recordNum = data.count[0].recordNum;
						//分页回调				 
						$("#Pagination").pagination(recordNum, {
							num_edge_entries: 2,
							num_display_entries: 8,
							current_page: pages,
							items_per_page: per_page_number,
							callback: SelectByWhereInfo
						});
						var html = "";
						//数据填充
						$.each(re, function (i) {						
							
								html += "<tr><td>" + re[i].serialnumber + "</td>";
								html += "<td>" + re[i].username + "</td>";
								html += "<td>" + re[i].tradingtime + "</td>";
								html += "<td>" + re[i].gameSummary + "</td>";
								html += "<td>" + re[i].gameStatus + "</td>";							
								html += "<td>" + re[i].amount + "</td>";
								html += "<td>" + re[i].freezeAmount + "</td>";
								html += "<td>" + re[i].expensesAmount + "</td>";							
								html += "<td>" + re[i].availableAmount + "</td>";	
								html += "<td>" + re[i].remark + "</td></tr>";						
						});
						$("#J-table-data>tbody").html(html);
						if(isShowCell == false){//状态判定加载相关数据		
							$('[name="showType"]').hide();
						}
						else{
							$('[name="showType"]').show();
						}
							
					}else{
						 $("#Pagination").hide();  
						 TableStyle("J-table-data>tbody",17,2,"没有相应数据");
					}				
				}, 
				complete: function()
				{
					isLock=true;
				},
				error: function(XMLHttpRequest, textStatus, errorThrown) {
					 TableStyle("J-table-data>tbody",17,2,"数据异常");
				}
			});			
		}
	})(jQuery);
	</script>
</html>